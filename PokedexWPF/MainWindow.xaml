<Window x:Class="PokedexWPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PokedexWPF" d:DataContext="{d:DesignInstance Type=local:MainViewModel}"
        xmlns:conv="clr-namespace:PokedexWPF.Converters"
        mc:Ignorable="d"
        Title="PokédexPro" Height="720" Width="1280" WindowStartupLocation="CenterScreen">

    <Window.DataContext>
        <local:MainViewModel/>
    </Window.DataContext>

    <Window.Resources>
        <conv:WeightToKgConverter x:Key="WeightToKg"/>
        <conv:HeihtToMeterConverter x:Key="HeightToM"/>
        <conv:PokemonTypeToBrushConverter x:Key="TypeBrush"/>

        <SolidColorBrush x:Key="BackgroundColor" Color="#0F172A"/>
        <SolidColorBrush x:Key="ButtonBackground" Color="#f8f9fa" Opacity=".9"/>

        <Style x:Key="Titel" TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
            <Setter Property="FontFamily" Value="/PokedexWPF;component/Resources/Fonts/Nunito/#Nunito"/>
            <Setter Property="FontSize" Value="36"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#ffffff"/>
        </Style>

        <Style x:Key="Caption" TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
            <Setter Property="FontFamily" Value="/PokedexWPF;component/Resources/Fonts/Nunito/#Nunito"/>
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#ffffff"/>
        </Style>

        <Style x:Key="Text" TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
            <Setter Property="FontFamily" Value="/PokedexWPF;component/Resources/Fonts/Nunito/#Nunito"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#ffffff"/>
        </Style>

        <Style x:Key="Overlay" TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
            <Setter Property="FontFamily" Value="/PokedexWPF;component/Resources/Fonts/Nunito/#Nunito"/>
            <Setter Property="FontSize" Value="110"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="Opacity" Value="0.4"/>
        </Style>

        <Style x:Key="Button" TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
            <Setter Property="FontFamily" Value="/PokedexWPF;component/Resources/Fonts/Nunito/#Nunito"/>
            <Setter Property="FontSize" Value="25"/>
            <Setter Property="Background" Value="{StaticResource ButtonBackground}"/>
            <Setter Property="Foreground" Value="#212529"/>
            <Setter Property="BorderBrush" Value="{StaticResource ButtonBackground}"/>
            <Style.Resources>
                <Style TargetType="Border">
                    <Setter Property="CornerRadius" Value="5"/>
                </Style>
            </Style.Resources>
        </Style>

        <Style x:Key="InputBox" TargetType="TextBox" BasedOn="{StaticResource {x:Type TextBox}}">
            <Setter Property="FontFamily" Value="/PokedexWPF;component/Resources/Fonts/Nunito/#Nunito"/>
            <Setter Property="FontSize" Value="25"/>
            <Setter Property="Foreground" Value="#212529"/>
            <Setter Property="Background" Value="{StaticResource ButtonBackground}"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="BorderBrush" Value="{StaticResource ButtonBackground}"/>
            <Style.Resources>
                <Style TargetType="Border">
                    <Setter Property="CornerRadius" Value="5"/>
                </Style>
            </Style.Resources>
        </Style>

        <Style x:Key="NumberButton" TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
            <Setter Property="FontFamily" Value="/PokedexWPF;component/Resources/Fonts/Nunito/#Nunito"/>
            <Setter Property="FontSize" Value="25"/>
            <Setter Property="Background" Value="{StaticResource ButtonBackground}"/>
            <Setter Property="Foreground" Value="#212529"/>
            <Setter Property="BorderBrush" Value="{StaticResource ButtonBackground}"/>
            <Style.Resources>
                <Style TargetType="Border">
                    <Setter Property="CornerRadius" Value="5"/>
                </Style>
            </Style.Resources>
        </Style>

    </Window.Resources>

    <Grid x:Name="BgHost" Background="{Binding PrimaryType, Converter={StaticResource TypeBrush}}">

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="0.2*"/>
                <RowDefinition Height="0.8*"/>
            </Grid.RowDefinitions>

            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>

                <Grid Grid.Column="0">
                    <StackPanel DockPanel.Dock="Right" VerticalAlignment="Center" Margin="20,0,0,0">
                        <TextBlock Text="{Binding Pokemon.Id, StringFormat=#{0}}" Style="{StaticResource Caption}">
                            <TextBlock.Effect>
                                <DropShadowEffect ShadowDepth="2" Color="Black" Opacity="0.25" BlurRadius="5"/>
                            </TextBlock.Effect>
                        </TextBlock>

                        <TextBlock Text="{Binding Pokemon.Name}" Style="{StaticResource Titel}" Margin="0,2,0,0">
                            <TextBlock.Effect>
                                <DropShadowEffect ShadowDepth="2" Color="Black" Opacity="0.25" BlurRadius="5"/>
                            </TextBlock.Effect>
                        </TextBlock>
                    </StackPanel>
                </Grid>

                <Grid Grid.Column="1">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" DockPanel.Dock="Left">

                        <TextBox Text="{Binding Query, UpdateSourceTrigger=PropertyChanged}" Width="300" Height="50" Style="{StaticResource InputBox}" TextWrapping="Wrap" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
                        <Button Content="Go!" Command="{Binding SearchCommand}" Width="100" Style="{StaticResource Button}" Height="50" Margin="20,0,0,0"></Button>

                    </StackPanel>
                </Grid>
            </Grid>

            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="0.03*"/>
                    <ColumnDefinition Width="0.12*"/>
                    <ColumnDefinition Width="0.4*"/>
                    <ColumnDefinition Width="0.4*"/>
                    <ColumnDefinition Width="0.05*"/>
                </Grid.ColumnDefinitions>

                <Grid Grid.Column="0">


                </Grid>

                <Grid Grid.Column="1">
                    <StackPanel DockPanel.Dock="Right" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,0,0">
                        <TextBlock Text="{Binding Pokemon.Height, Converter={StaticResource HeightToM}, StringFormat=Height: {0}}" Style="{StaticResource Text}">
                            <TextBlock.Effect>
                                <DropShadowEffect ShadowDepth="2" Color="Black" Opacity="0.25" BlurRadius="5"/>
                            </TextBlock.Effect>
                        </TextBlock>

                        <TextBlock Text="{Binding Pokemon.Weight, Converter={StaticResource WeightToKg}, StringFormat=Weight: {0}}" Style="{StaticResource Text}">
                            <TextBlock.Effect>
                                <DropShadowEffect ShadowDepth="2" Color="Black" Opacity="0.25" BlurRadius="5"/>
                            </TextBlock.Effect>
                        </TextBlock>
                    </StackPanel>
                </Grid>

                <Grid Grid.Column="2" Margin="88,96,88,96">
                    <Image Source="{Binding Artwork}" Stretch="Uniform" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Grid>

                <Grid Grid.Column="3">
                    <StackPanel DockPanel.Dock="Right" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,0,0">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" DockPanel.Dock="Left">
                            <Image Source="/PokedexWPF;component/Resources/Images/grass.png" Width="150"/>
                            <Image Source="/PokedexWPF;component/Resources/Images/poison.png" Width="150" Margin="20,0,0,0"/>
                        </StackPanel>

                        <TextBlock Text="Base stats:" Style="{StaticResource Titel}">
                            <TextBlock.Effect>
                                <DropShadowEffect ShadowDepth="2" Color="Black" Opacity="0.25" BlurRadius="5"/>
                            </TextBlock.Effect>
                        </TextBlock>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" DockPanel.Dock="Left">
                            <TextBlock Text="{Binding BaseStats.HP, StringFormat=HP: {0}}" Style="{StaticResource Caption}"/>

                            <TextBlock Text="{Binding BaseStats.Attack, StringFormat=Attack: {0}}" Style="{StaticResource Caption}" Margin="20,0,0,0"/>
                            <TextBlock Text="{Binding BaseStats.Defense, StringFormat=Defense: {0}}" Style="{StaticResource Caption}" Margin="20,0,0,0"/>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" DockPanel.Dock="Left">
                            <TextBlock Text="{Binding BaseStats.SpAttack, StringFormat=Sp. Attack: {0}}" Style="{StaticResource Caption}"/>
                            <TextBlock Text="{Binding BaseStats.SpDefense, StringFormat=Sp. Defense: {0}}" Style="{StaticResource Caption}" Margin="20,0,0,0"/>
                            <TextBlock Text="{Binding BaseStats.Speed, StringFormat=Speed: {0}}" Style="{StaticResource Caption}" Margin="20,0,0,0"/>
                        </StackPanel>
                    </StackPanel>
                </Grid>


                <Grid Grid.Column="4">
                    <StackPanel Orientation="Vertical" VerticalAlignment="Center">
                        <Button Content="▲" Command="{Binding PrevCommand}" Style="{StaticResource NumberButton}" />

                        <ListBox ItemsSource="{Binding NeighborIds}" SelectedItem="{Binding CurrentId, Mode=TwoWay}" BorderThickness="0" Background="Transparent" ScrollViewer.VerticalScrollBarVisibility="Hidden" Height="280">
                            <ListBox.ItemContainerStyle>
                                <Style TargetType="ListBoxItem">
                                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                    <Setter Property="Padding" Value="6"/>
                                    <Setter Property="Foreground" Value="#FFFFFFFF"/>
                                    <Setter Property="Background" Value="Transparent"/>
                                    <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                    <Style.Triggers>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter Property="FontWeight" Value="Bold"/>
                                            <Setter Property="Foreground" Value="#FFFFFFFF"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </ListBox.ItemContainerStyle>

                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding}" FontSize="20" />
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>

                        <Button Content="▼" Command="{Binding NextCommand}" Style="{StaticResource NumberButton}"/>

                    </StackPanel>
                </Grid>
                
            </Grid>

        </Grid>
        <Border Name="JapNameOverlay" Background="Transparent" Visibility="Visible" IsHitTestVisible="False" VerticalAlignment="Center" HorizontalAlignment="Left">
            <TextBlock Text="{Binding JapaneseName}" Style="{StaticResource Overlay}" Margin="150,0,0,0" />
        </Border>
    </Grid>
</Window>
